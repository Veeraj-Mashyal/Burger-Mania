<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Checkout</title>

  <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    
  <!--<script src="checkout.js" defer></script>-->
  <style>

    body {
      /* font-family: Arial, sans-serif; */
      margin: 0;
      padding: 0
    }


/* NAVBAR CSS START */

@import url('https://fonts.googleapis.com/css2?family=Matemasie&display=swap'); 
        .logo-name{
            font-family: "Matemasie", sans-serif;
  font-weight: 400;
  font-style:normal;
        }
  
.select {
  width: 100%;
  margin-top:15px;
  cursor: pointer;
  position: relative;
  transition: 300ms;
  color: white;
  /* overflow: hidden; */
}

.selected {
  background-color: #2a2f3b;
  padding: 5px;
  margin-bottom: 3px;
  border-radius: 5px;
  position: relative;
  z-index: 100000;
  font-size: 15px;
  display: flex;
  align-items: center;
  justify-content: space-between;

}

.arrow {
  position: relative;
  right: 0px;
  height: 10px;
  transform: rotate(-90deg);
  width: 25px;
  fill: white;
  z-index: 100000;
  transition: 300ms;
}

.options {
  display: flex;
  flex-direction: column;
  border-radius: 5px;
  padding: 5px;
  background-color: #2a2f3b;
  position: relative;
  top: -100px;
  opacity: 0;
  transition: 300ms;
}

.select:hover > .options {
  opacity: 1;
  top: 0;
}

.select:hover > .selected .arrow {
  transform: rotate(0deg);
}

.option {
  border-radius: 5px;
  padding: 5px;
  transition: 300ms;
  background-color: #2a2f3b;
  width: 150px;
  font-size: 15px;
}
.option:hover {
  background-color: #323741;
}

.options input[type="radio"] {
  display: none;
}

.options label {
  display: inline-block;
}
.options label::before {
  content: attr(data-txt);
}

.options input[type="radio"]:checked + label {
  display: none;
}

.options input[type="radio"]#all:checked + label {
  display: none;
}

.select:has(.options input[type="radio"]#all:checked) .selected::before {
  content: attr(data-default);
}
.select:has(.options input[type="radio"]#option-1:checked) .selected::before {
  content: attr(data-one);
}
.select:has(.options input[type="radio"]#option-2:checked) .selected::before {
  content: attr(data-two);
}
.select:has(.options input[type="radio"]#option-3:checked) .selected::before {
  content: attr(data-three);
}

#cart-count {
            position: absolute;
            top: 20px;
            right: 40px;
            background-color: #fff;
            color: black;
            padding: 4px 8px;
            border-radius: 50%;
        }
/* NAVBAR CSS ENDS */


.container-section{
  width: 100%;
  height: 80vh;
  display: flex;
  align-items:center ;
  justify-content: center;
  /* border: 2px solid green; */
}

    .checkout-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 80%;
      background-color: #fff;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      padding: 20px;
      /* border: 2px solid red; */
    }

    .summary-sections {
      display: flex;
      justify-content: space-between;
      width: 100%;
    }

    .order-summary{
      width: 48%;
      max-height: 300px;
      overflow: auto;
    }

    ::-webkit-scrollbar {
      width: 10px; /* Width of the vertical scrollbar */
      height: 12px; /* Height of the horizontal scrollbar */
      /* transition: all 0.3s ease; */
}
::-webkit-scrollbar-track {
  background: #f1f1f1; /* Light gray background */
  border-radius: 10px; /* Rounded corners */
}
::-webkit-scrollbar-thumb {
  background: #ffcc00; /* Gray color for the thumb */
  border-radius: 10px; /* Rounded corners */
}
::-webkit-scrollbar-thumb:hover {
  background: #efc005; /* Darker gray when hovering */
}

    
    .price-summary {
      width: 48%;
    }

    .order-summary h2, .price-summary h2 {
      font-size: 20px;
      margin-bottom: 15px;
      color: #333;
    }

    .cart-item {
      display: flex;
      align-items: center;
      margin-bottom: 15px;
      border-bottom: 1px solid #ddd;
      padding-bottom: 10px;
    }

    .cart-item img {
      width: 60px;
      height: 60px;
      border-radius: 5px;
      margin-right: 15px;
    }

    .cart-item-details {
      flex: 1;
    }

    .cart-item-title {
      font-size: 16px;
      margin: 0;
      color: #333;
    }

    .cart-item-price {
      font-size: 14px;
      color: #666;
    }

    .price-summary {
      border-left: 1px solid #ddd;
      padding-left: 15px;
    }

    .price-breakdown {
      margin-bottom: 15px;
    }

    .price-breakdown span {
      display: flex;
      justify-content: space-between;
      margin-bottom: 10px;
      font-size: 16px;
      color: #333;
    }

    .total-price {
      font-weight: bold;
      font-size: 18px;
      margin-top: 15px;
      display: flex;
      justify-content: space-between;
    }

    .action-buttons {
      display: flex;
      justify-content: space-between;
      width: 100%;
      margin-top: 20px;
    }

    .action-btn {
      background-color: #ffcc00;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
      text-align: center;
      color: #333;
      text-decoration: none;
    }

    .action-btn:hover {
      background-color: #e6b800;
    }

    .back-btn {
      background-color: #e0e0e0;
    }

    .back-btn:hover {
      background-color: #bdbdbd;
    }
  </style>
</head>
<body>

 <!-- navbar starts -->

 <header class="p-1  text-white bg-black dark:bg-black-100 dark:text-gray-800 bg-black-300 relative z-1">
  <div class="container flex justify-between h-16 mx-auto">
    <a rel="noopener noreferrer" href="index.html" aria-label="Back to homepage" class="flex items-center p-2">
      <span class="logo-name">Burger</span>
    </a>
  <ul class="items-stretch hidden space-x-3 md:flex">
  <li class="flex"><a rel="noopener noreferrer" href="store.html" class="flex items-center px-4 ">Store</a></li>
  <li class="flex"><a rel="noopener noreferrer" href="cart.html" class="flex items-center px-4">Menu</a></li>
  <li class="flex"><a rel="noopener noreferrer" href="contactjsp.jsp" class="flex items-center px-4">Contact Us</a></li>
  <li class="flex justify-center">
    <div class="select">
      <div class="selected" data-default="More" data-one="Login" data-two="Contact us" data-three="About us">
      <svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512" class="arrow">
       <path d="M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"></path>
      </svg>
      </div>

  <div class="options">
    <div title="all">
      <input id="all" name="option" type="radio" checked="" />
      <label class="option" for="all" data-txt="All"></label>
    </div>
    <a href="login.jsp">
      <div>
      <!-- <input id="option-1" name="option" type="radio" /> -->
      <label class="option">Login/Signup</label>
    </div></a>
    <a href="aboutus.html">
      <div>
      <!-- <input id="option-2" name="option" type="radio" /> -->
      <label class="option">About us</label>
    </div></a>
    <a href="feedback.jsp"><div>
      <!-- <input id="option-3" name="option" type="radio" /> -->
      <label class="option">Feedback</label>
    </div></a>
  </div>
</div>
</li>

<li class="flex">
<a  href="cart.html" class="flex items-center w-8 h-15 ml-5 fg-red"><i class="fas fa-shopping-cart" style="font-size:20px"></i></a>
</li>

<li class="flex">
<a  href="user-profile.jsp" class="flex items-center h-15"><i class="fa fa-user" style="font-size:20px"></i></a>
</li>

</ul>
<!-- <button class="flex justify-end p-4 md:hidden">
<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="w-6 h-6">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
</svg>
</button> -->
</div>

</header>
<!-- navbar ends -->

<!-- container section -->
 <div class="container-section">

  <div class="checkout-container">
    <!-- Order Summary Section -->
    <div class="summary-sections">
      <div class="order-summary">
        <h2>Your Order</h2>
        <div id="orderItems"></div>
      </div>

      <!-- Price Summary Section -->
      <div class="price-summary">
        <h2>Price Summary</h2>
        <div class="price-breakdown">
          <span><strong>Sub Total</strong> <span id="subtotal">₹0</span></span>
          <span><strong>Delivery Charges</strong> ₹40</span>
          <span><strong>CGST (₹8)</strong> ₹8</span>
          <span><strong>SGST (₹8)</strong> ₹8</span>
        </div>
        <div class="total-price">
          <span>Total Payable</span>
          <span id="totalPayable">₹0</span>
        </div>
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="action-buttons">
      <a href="index.html" class="action-btn back-btn">Back</a>
      <a href="payment.html" class="action-btn">Proceed to Pay</a>
    </div>
  </div>

</div>
<!-- Container section -->

<script>
    /* 
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/JSP_Servlet/JavaScript.js to edit this template
 */


// Fetch cart data from localStorage and render items
document.addEventListener("DOMContentLoaded", () => {
  const cart = JSON.parse(localStorage.getItem("cart")) || {};
  const orderItemsContainer = document.getElementById("orderItems");
  const subtotalElement = document.getElementById("subtotal");
  const totalPayableElement = document.getElementById("totalPayable");

  let subtotal = 0;

  // Render cart items
  for (const id in cart) {
    const item = cart[id];
    const itemTotal = item.price * item.quantity;
    subtotal += itemTotal;

    const cartItem = document.createElement("div");
    cartItem.classList.add("cart-item");
    cartItem.innerHTML = `
      <img src="${item.image}" alt="${item.name}">
      <div class="cart-item-details">
        <p class="cart-item-title">${item.name}</p>
        <p class="cart-item-price">₹${item.price} x ${item.quantity} = ₹${itemTotal}</p>
      </div>
    `;
    orderItemsContainer.appendChild(cartItem);
  }

  // Update price summary
  const deliveryCharges = 40;
  const tax = 8 * 2; // CGST + SGST
  const totalPayable = subtotal + deliveryCharges + tax;

  subtotalElement.textContent = `₹${subtotal}`;
  totalPayableElement.textContent = `₹${totalPayable}`;
});

    </script>
</body>
</html>
